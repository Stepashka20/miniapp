{"version":3,"sources":["js/store/vk/actions.js","js/store/vk/actionTypes.js","js/services/VK.js","js/services/_functions.js","js/store/router/reducers.js","js/store/vk/reducers.js","js/store/formData/reducers.js","js/store/reducers.js","js/store/router/actionTypes.js","js/store/formData/actionTypes.js","js/store/router/actions.js","js/panels/home/base.js","js/components/GroupCell.js","js/services/renderers.js","js/panels/home/groups.js","js/panels/more/base.js","js/panels/more/example.js","js/store/formData/actions.js","js/components/modals/HomeBotsListModal.js","js/components/modals/HomeBotInfoModal.js","App.js","index.js"],"names":["setAccessToken","accessToken","type","payload","closeApp","VKConnect","send","then","data","catch","error","swipeBackOn","swipeBackOff","APICall","method","params","store","getState","vkui","undefined","response","smoothScrollToTop","c","document","documentElement","scrollTop","body","window","requestAnimationFrame","scrollTo","getActivePanel","view","panel","router","activePanel","panelsHistory","length","initialState","activeStory","activeView","storiesHistory","viewsHistory","activeModals","modalHistory","popouts","scrollPosition","colorScheme","activeTab","componentScroll","forms","combineReducers","state","action","component","tab","x","y","element","getElementById","getElementsByClassName","scrollLeft","View","Panel","history","pushState","viewIndexInHistory","indexOf","splice","VK","pageYOffset","story","initial_panel","firstPanel","shift","firstView","storiesIndexInHistory","setView","setPanel","setStory","popoutsData","viewModalsHistory","activeModal","push","pop","panelsHistoryNew","popout","id","modalsHistory","formData","form","setPage","goBack","openPopout","closePopout","openModal","closeModal","HomePanelBase","showImg","setState","this","props","actions","title","autoclose","style","onClose","withoutEpic","mode","size","stretched","onClick","fetch","headers","json","console","log","className","src","alt","React","Component","mapDispatchToProps","connect","GroupCell","description","photo","name","desc","before","PureComponent","renderGroupsList","items","groups","map","group","key","photo_100","HomePanelGroups","admined","other","loading","errorGetAuthToken","getAuthToken","getGroupsList","scope","dispatch","join","access_token","prevProps","prevState","snapshot","localStorage","getItem","JSON","parse","adminedGroups","filter","item","is_admin","otherGroups","setItem","stringify","adminedGroupsList","otherGroupsList","left","header","bindActionCreators","HomePanelProfile","setScrollPositionByID","setActiveTab","scrolls","Object","keys","forEach","componentData","restoreScrollPosition","noShadow","vertical","theme","setTab","selected","marginTop","defaultInputData","workplace","workposition","checkboxPhoto","checkboxOnline","inputData","handleInput","e","value","currentTarget","checked","clearForm","setFormData","top","onChange","placeholder","autoComplete","formName","bots","avatar","HomeBotsListModal","platform","IOS","right","settlingHeight","bot","index","asideContent","fill","withPlatform","App","lastAndroidBackAction","subscribe","VKConnectCallback","detail","unsubscribe","scheme","onpopstate","timeNow","Date","pageScrollPosition","scroll","homeModals","HomeBotInfoModal","isWebView","tabbar","modal","onSwipeBack","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render"],"mappings":"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","file":"static/js/main.97e3637f.chunk.js","sourcesContent":["import {\n    SET_COLOR_SCHEME,\n    SET_ACCESS_TOKEN,\n    SET_ACTIVE_TAB,\n    SET_SCROLL_POSITION,\n    SET_SCROLL_POSITION_BY_ID\n} from './actionTypes';\n\nexport const setColorScheme = (scheme) => (\n    {\n        type: SET_COLOR_SCHEME,\n        payload: scheme\n    }\n);\n\nexport const setAccessToken = (accessToken) => (\n    {\n        type: SET_ACCESS_TOKEN,\n        payload: accessToken\n    }\n);\n\nexport const setActiveTab = (component, tab) => (\n    {\n        type: SET_ACTIVE_TAB,\n        payload: {\n            component,\n            tab\n        }\n    }\n);\n\nexport const setScrollPosition = (component, x = 0, y = 0) => (\n    {\n        type: SET_SCROLL_POSITION,\n        payload: {\n            component,\n            x,\n            y\n        }\n    }\n);\n\nexport const setScrollPositionByID = (component) => (\n    {\n        type: SET_SCROLL_POSITION_BY_ID,\n        payload: {\n            component\n        }\n    }\n);","export const SET_COLOR_SCHEME = 'SET_COLOR_SCHEME';\nexport const SET_ACCESS_TOKEN = 'SET_ACCESS_TOKEN';\nexport const SET_ACTIVE_TAB = 'SET_ACTIVE_TAB';\nexport const SET_SCROLL_POSITION = 'SET_SCROLL_POSITION';\nexport const SET_SCROLL_POSITION_BY_ID = 'SET_SCROLL_POSITION_BY_ID';","import VKConnect from \"@vkontakte/vk-connect\";\n\nimport {store} from \"../../index\";\n\nimport {setColorScheme, setAccessToken} from \"../store/vk/actions\";\n\nconst APP_ID = 6984089;\nconst API_VERSION = '5.92';\n\nexport const initApp = () => (dispatch) => {\n    const VKConnectCallback = (e) => {\n        if (e.detail.type === 'VKWebAppUpdateConfig') {\n            VKConnect.unsubscribe(VKConnectCallback);\n\n            dispatch(setColorScheme(e.detail.data.scheme));\n        }\n    };\n\n    VKConnect.subscribe(VKConnectCallback);\n    return VKConnect.send('VKWebAppInit', {}).then(data => {\n        return data;\n    }).catch(error => {\n        return error;\n    });\n};\n\nexport const getAuthToken = (scope) => (dispatch) => {\n    VKConnect.send(\"VKWebAppGetAuthToken\", {\n        \"app_id\": APP_ID,\n        \"scope\": scope.join(',')\n    }).then(data => {\n        dispatch(setAccessToken(data.access_token));\n    }).catch(() => {\n        dispatch(setAccessToken(null));\n    });\n};\n\nexport const closeApp = () => {\n    return VKConnect.send(\"VKWebAppClose\", {\n        \"status\": \"success\"\n    }).then(data => {\n        return data;\n    }).catch(error => {\n        return error;\n    });\n};\n\nexport const swipeBackOn = () => {\n    return VKConnect.send(\"VKWebAppEnableSwipeBack\", {}).then(data => {\n        return data;\n    }).catch(error => {\n        return error;\n    });\n};\n\nexport const swipeBackOff = () => {\n    return VKConnect.send(\"VKWebAppDisableSwipeBack\", {}).then(data => {\n        return data;\n    }).catch(error => {\n        return error;\n    });\n};\n\nexport const groupsGet = () => {\n    return APICall('groups.get', {\n        \"extended\": \"1\",\n        \"fields\": \"description\",\n        \"count\": \"100\"\n    });\n};\n\nexport const APICall = (method, params) => {\n    params['access_token'] = store.getState().vkui.accessToken;\n    params['v'] = params['v'] === undefined ? API_VERSION : params['v'];\n\n    return VKConnect.send(\"VKWebAppCallAPIMethod\", {\n        \"method\": method,\n        \"params\": params\n    }).then(data => {\n        return data.response;\n    }).catch(error => {\n        return error;\n    });\n};\n","import {store} from \"../../index\";\n\nexport const smoothScrollToTop = () => {\n    const c = document.documentElement.scrollTop || document.body.scrollTop;\n\n    if (c > 30) {\n        return;\n    }\n\n    if (c > 0) {\n        window.requestAnimationFrame(smoothScrollToTop);\n        window.scrollTo(0, c - c / 8);\n    }\n};\n\nexport const restoreScrollPosition = () => {\n    let scrolls = store.getState().vkui.componentScroll;\n\n    Object.keys(scrolls).forEach((component) => {\n        let componentData = scrolls[component];\n\n        let element = document.getElementById(component);\n\n        if (element) {\n            element = element.getElementsByClassName(\"HorizontalScroll__in\")[0];\n\n            element.scrollLeft = componentData.x;\n            element.scrollTop = componentData.y;\n        }\n    });\n};\n\nexport const getActivePanel = (view) => {\n    let panel = store.getState().router.activePanel;\n\n    let panelsHistory = store.getState().router.panelsHistory;\n    if (typeof panelsHistory[view] !== \"undefined\") {\n        panel = panelsHistory[view][panelsHistory[view].length - 1];\n    }\n\n    return panel;\n};\n","import {\n    SET_PAGE,\n    GO_BACK,\n    OPEN_POPOUT,\n    CLOSE_POPOUT,\n    OPEN_MODAL,\n    CLOSE_MODAL,\n    SET_STORY\n} from './actionTypes';\n\nimport * as VK from \"../../services/VK\";\nimport {smoothScrollToTop} from \"../../services/_functions\";\n\nconst initialState = {\n    activeStory: null,\n    activeView: null,\n    activePanel: null,\n\n    storiesHistory: [],\n    viewsHistory: [],\n    panelsHistory: [],\n\n    activeModals: [],\n    modalHistory: [],\n    popouts: [],\n\n    scrollPosition: []\n};\n\nexport const routerReducer = (state = initialState, action) => {\n\n    switch (action.type) {\n\n        case SET_PAGE: {\n            let View = action.payload.view;\n            let Panel = action.payload.panel;\n\n            window.history.pushState(null, null);\n\n            let panelsHistory = state.panelsHistory[View] || [];\n            let viewsHistory = state.viewsHistory[state.activeStory] || [];\n\n            const viewIndexInHistory = viewsHistory.indexOf(View);\n\n            if (viewIndexInHistory !== -1) {\n                viewsHistory.splice(viewIndexInHistory, 1);\n            }\n\n            if (panelsHistory.indexOf(Panel) === -1) {\n                panelsHistory = [...panelsHistory, Panel];\n            }\n\n            if (panelsHistory.length > 1) {\n                VK.swipeBackOn();\n            }\n\n            return {\n                ...state,\n                activeView: View,\n                activePanel: Panel,\n\n                panelsHistory: {\n                    ...state.panelsHistory,\n                    [View]: panelsHistory,\n                },\n                viewsHistory: {\n                    ...state.viewsHistory,\n                    [state.activeStory]: [...viewsHistory, View]\n                },\n                scrollPosition: {\n                    ...state.scrollPosition,\n                    [state.activeStory + \"_\" + state.activeView + \"_\" + state.activePanel]: window.pageYOffset\n                }\n            };\n        }\n\n        case SET_STORY: {\n            window.history.pushState(null, null);\n\n            let viewsHistory = state.viewsHistory[action.payload.story] || [action.payload.story];\n\n            let storiesHistory = state.storiesHistory;\n            let activeView = viewsHistory[viewsHistory.length - 1];\n            let panelsHistory = state.panelsHistory[activeView] || [action.payload.initial_panel];\n            let activePanel = panelsHistory[panelsHistory.length - 1];\n\n            if (action.payload.story === state.activeStory) {\n                if (panelsHistory.length > 1) {\n                    let firstPanel = panelsHistory.shift();\n                    panelsHistory = [firstPanel];\n\n                    activePanel = panelsHistory[panelsHistory.length - 1];\n                } else if (viewsHistory.length > 1) {\n                    let firstView = viewsHistory.shift();\n                    viewsHistory = [firstView];\n\n                    activeView = viewsHistory[viewsHistory.length - 1];\n                    panelsHistory = state.panelsHistory[activeView];\n                    activePanel = panelsHistory[panelsHistory.length - 1];\n                }\n            }\n\n            if (action.payload.story === state.activeStory && panelsHistory.length === 1 && window.pageYOffset > 0) {\n                window.scrollTo(0, 30);\n\n                smoothScrollToTop();\n            }\n\n            const storiesIndexInHistory = storiesHistory.indexOf(action.payload.story);\n\n            if (storiesIndexInHistory === -1 || (storiesHistory[0] === action.payload.story && storiesHistory[storiesHistory.length - 1] !== action.payload.story)) {\n                storiesHistory = [...storiesHistory, action.payload.story];\n            }\n\n            return {\n                ...state,\n                activeStory: action.payload.story,\n                activeView: activeView,\n                activePanel: activePanel,\n\n                storiesHistory: storiesHistory,\n                viewsHistory: {\n                    ...state.viewsHistory,\n                    [activeView]: viewsHistory\n                },\n                panelsHistory: {\n                    ...state.panelsHistory,\n                    [activeView]: panelsHistory\n                },\n\n                scrollPosition: {\n                    ...state.scrollPosition,\n                    [state.activeStory + \"_\" + state.activeView + \"_\" + state.activePanel]: window.pageYOffset\n                }\n            };\n        }\n\n        case GO_BACK: {\n            let setView = state.activeView;\n            let setPanel = state.activePanel;\n            let setStory = state.activeStory;\n\n            let popoutsData = state.popouts;\n\n            if (popoutsData[setView]) {\n                popoutsData[setView] = null;\n\n                return {\n                    ...state,\n                    popouts: {\n                        ...state.popouts, popoutsData\n                    }\n                };\n            }\n\n            let viewModalsHistory = state.modalHistory[setView];\n\n            if (viewModalsHistory !== undefined && viewModalsHistory.length !== 0) {\n                let activeModal = viewModalsHistory[viewModalsHistory.length - 2] || null;\n\n                if (activeModal === null) {\n                    viewModalsHistory = [];\n                } else if (viewModalsHistory.indexOf(activeModal) !== -1) {\n                    viewModalsHistory = viewModalsHistory.splice(0, viewModalsHistory.indexOf(activeModal) + 1);\n                } else {\n                    viewModalsHistory.push(activeModal);\n                }\n\n                return {\n                    ...state,\n                    activeModals: {\n                        ...state.activeModals,\n                        [setView]: activeModal\n                    },\n                    modalHistory: {\n                        ...state.modalHistory,\n                        [setView]: viewModalsHistory\n                    }\n                };\n            }\n\n            let panelsHistory = state.panelsHistory[setView] || [];\n            let viewsHistory = state.viewsHistory[state.activeStory] || [];\n            let storiesHistory = state.storiesHistory;\n\n            if (panelsHistory.length > 1) {\n                panelsHistory.pop();\n\n                setPanel = panelsHistory[panelsHistory.length - 1];\n            } else if (viewsHistory.length > 1) {\n                viewsHistory.pop();\n\n                setView = viewsHistory[viewsHistory.length - 1];\n                let panelsHistoryNew = state.panelsHistory[setView];\n\n                setPanel = panelsHistoryNew[panelsHistoryNew.length - 1];\n            } else if (storiesHistory.length > 1) {\n                storiesHistory.pop();\n\n                setStory = storiesHistory[storiesHistory.length - 1];\n                setView = state.viewsHistory[setStory][state.viewsHistory[setStory].length - 1];\n\n                let panelsHistoryNew = state.panelsHistory[setView];\n\n                if (panelsHistoryNew.length > 1) {\n                    setPanel = panelsHistoryNew[panelsHistoryNew.length - 1];\n                } else {\n                    setPanel = panelsHistoryNew[0];\n                }\n            } else {\n                VK.closeApp();\n            }\n\n            if (panelsHistory.length === 1) {\n                VK.swipeBackOff();\n            }\n\n            return {\n                ...state,\n                activeView: setView,\n                activePanel: setPanel,\n                activeStory: setStory,\n\n                viewsHistory: {\n                    ...state.viewsHistory,\n                    [state.activeView]: viewsHistory\n                },\n                panelsHistory: {\n                    ...state.panelsHistory,\n                    [state.activeView]: panelsHistory\n                }\n            };\n        }\n\n        case OPEN_POPOUT: {\n            window.history.pushState(null, null);\n\n            return {\n                ...state,\n                popouts: {\n                    ...state.popouts,\n                    [state.activeView]: action.payload.popout\n                }\n            };\n        }\n\n        case CLOSE_POPOUT: {\n            return {\n                ...state,\n                popouts: {\n                    ...state.popouts,\n                    [state.activeView]: null\n                }\n            };\n        }\n\n        case OPEN_MODAL: {\n            window.history.pushState(null, null);\n\n            let activeModal = action.payload.id || null;\n            let modalsHistory = state.modalHistory[state.activeView] ? [...state.modalHistory[state.activeView]] : [];\n\n            if (activeModal === null) {\n                modalsHistory = [];\n            } else if (modalsHistory.indexOf(activeModal) !== -1) {\n                modalsHistory = modalsHistory.splice(0, modalsHistory.indexOf(activeModal) + 1);\n            } else {\n                modalsHistory.push(activeModal);\n            }\n\n            return {\n                ...state,\n                activeModals: {\n                    ...state.activeModals,\n                    [state.activeView]: activeModal\n                },\n                modalHistory: {\n                    ...state.modalHistory,\n                    [state.activeView]: modalsHistory\n                }\n            };\n        }\n\n        case CLOSE_MODAL: {\n            let activeModal = state.modalHistory[state.activeView][state.modalHistory[state.activeView].length - 2] || null;\n            let modalsHistory = state.modalHistory[state.activeView] ? [...state.modalHistory[state.activeView]] : [];\n\n            if (activeModal === null) {\n                modalsHistory = [];\n            } else if (modalsHistory.indexOf(activeModal) !== -1) {\n                modalsHistory = modalsHistory.splice(0, modalsHistory.indexOf(activeModal) + 1);\n            } else {\n                modalsHistory.push(activeModal);\n            }\n\n            return {\n                ...state,\n                activeModals: {\n                    ...state.activeModals,\n                    [state.activeView]: activeModal\n                },\n                modalHistory: {\n                    ...state.modalHistory,\n                    [state.activeView]: modalsHistory\n                }\n            };\n        }\n\n        default: {\n            return state;\n        }\n    }\n};\n","import {\n    SET_ACCESS_TOKEN,\n    SET_ACTIVE_TAB,\n    SET_COLOR_SCHEME,\n    SET_SCROLL_POSITION,\n    SET_SCROLL_POSITION_BY_ID\n} from './actionTypes';\n\nconst initialState = {\n    accessToken: undefined,\n    colorScheme: 'client_light',\n\n    activeTab: [],\n    componentScroll: []\n};\n\nexport const vkuiReducer = (state = initialState, action) => {\n\n    switch (action.type) {\n\n        case SET_COLOR_SCHEME: {\n            return {\n                ...state,\n                colorScheme: action.payload,\n            };\n        }\n\n        case SET_ACCESS_TOKEN: {\n            return {\n                ...state,\n                accessToken: action.payload,\n            };\n        }\n\n        case SET_ACTIVE_TAB: {\n            return {\n                ...state,\n                activeTab: {\n                    ...state.activeTab,\n                    [action.payload.component]: action.payload.tab\n                },\n            };\n        }\n\n        case SET_SCROLL_POSITION: {\n            return {\n                ...state,\n                componentScroll: {\n                    ...state.componentScroll,\n                    [action.payload.component]: {\n                        x: action.payload.x,\n                        y: action.payload.y\n                    }\n                },\n            };\n        }\n\n        case SET_SCROLL_POSITION_BY_ID: {\n            let element = document.getElementById(action.payload.component).getElementsByClassName(\"HorizontalScroll__in\")[0];\n\n            let x = element.scrollLeft;\n            let y = element.scrollTop;\n\n            return {\n                ...state,\n                componentScroll: {\n                    ...state.componentScroll,\n                    [action.payload.component]: {\n                        x: x,\n                        y: y\n                    }\n                },\n            };\n        }\n\n        default: {\n            return state;\n        }\n    }\n};","import {SET_FORM_DATA} from './actionTypes';\n\nconst initialState = {\n    forms: []\n};\n\nexport const formDataReducer = (state = initialState, action) => {\n\n    switch (action.type) {\n\n        case SET_FORM_DATA: {\n            return {\n                ...state,\n                forms: {\n                    ...state.forms,\n                    [action.payload.form]: action.payload.data\n                }\n            };\n        }\n\n        default: {\n            return state;\n        }\n\n    }\n\n};","import {combineReducers} from \"redux\";\nimport {routerReducer} from './router/reducers';\nimport {vkuiReducer} from './vk/reducers';\nimport {formDataReducer} from \"./formData/reducers\";\n\nexport default combineReducers({\n    vkui: vkuiReducer,\n    router: routerReducer,\n    formData: formDataReducer\n});","export const SET_PAGE = 'SET_PAGE';\nexport const SET_STORY = 'SET_STORY';\nexport const GO_BACK = 'GO_BACK';\nexport const OPEN_POPOUT = 'OPEN_POPOUT';\nexport const CLOSE_POPOUT = 'CLOSE_POPOUT';\nexport const OPEN_MODAL = 'OPEN_MODAL';\nexport const CLOSE_MODAL = 'CLOSE_MODAL';","export const SET_FORM_DATA = 'SAVE_FORM_DATA';","import {SET_PAGE, SET_STORY, GO_BACK, OPEN_POPOUT, CLOSE_POPOUT, OPEN_MODAL, CLOSE_MODAL} from './actionTypes';\n\nexport const setStory = (story, initial_panel) => (\n    {\n        type: SET_STORY,\n        payload: {\n            story: story,\n            initial_panel: initial_panel,\n        }\n    }\n);\n\nexport const setPage = (view, panel) => (\n    {\n        type: SET_PAGE,\n        payload: {\n            view: view,\n            panel: panel\n        }\n    }\n);\n\nexport const goBack = () => (\n    {\n        type: GO_BACK\n    }\n);\n\nexport const openPopout = (popout) => (\n    {\n        type: OPEN_POPOUT,\n        payload: {\n            popout: popout\n        }\n    }\n);\n\nexport const closePopout = () => (\n    {\n        type: CLOSE_POPOUT\n    }\n);\n\nexport const openModal = (id) => (\n    {\n        type: OPEN_MODAL,\n        payload: {\n            id\n        }\n    }\n);\n\nexport const closeModal = () => (\n    {\n        type: CLOSE_MODAL\n    }\n);\n","import React from 'react';\nimport {connect} from 'react-redux';\n\nimport {closePopout, goBack, openModal, openPopout, setPage} from '../../store/router/actions';\n\nimport {Div, Panel, Alert, Group, Button, PanelHeader} from \"@vkontakte/vkui\"\n\nclass HomePanelBase extends React.Component {\n\n    state = {\n        showImg: false\n    };\n\n    showImg = () => {\n        this.setState({showImg: true});\n    };\n\n    openPopout() {\n        this.props.openPopout(\n            <Alert\n                actions={[{\n                    title: 'Нет',\n                    autoclose: true,\n                    style: 'cancel',\n                }, {\n                    title: 'Да',\n                    autoclose: true,\n                    action: this.showImg\n                }]}\n                onClose={() => this.props.closePopout()}\n            >\n                <h2>Вопрос значит</h2>\n                <p>Вас роняли в детстве?</p>\n            </Alert>\n        );\n    }\n\n    render() {\n        const {id, setPage, withoutEpic} = this.props;\n\n        return (\n            <Panel id={id}>\n                <PanelHeader>Examples</PanelHeader>\n                <Group>\n                <Div>\n                        <Button mode=\"secondary\" size=\"l\" stretched={true} onClick={() => {\n                             fetch(`https://api.github.com/users/petrgazarov`, {\n                                method: 'get',\n                                headers: {\n                                    \"Content-type\": \"application/x-www-form-urlencoded; charset=UTF-8\"\n                                }\n                            })\n                                .then((response) => response.json())\n                                .then((response) => {\n                                   console.log(response)\n                                })\n                                .catch((error) => {\n                                    console.log(\"error - \"+error)\n                                })\n                        }}>Открыть модальное окно</Button>\n                    </Div>\n                    <Div>\n                        <Button mode=\"secondary\" size=\"l\" stretched={true} onClick={() => setPage('home', 'groups')}>Список моих\n                            групп</Button>\n                    </Div>\n                    <Div>\n                        <Button mode=\"secondary\" size=\"l\" stretched={true} onClick={() => this.openPopout()}>Открыть алерт</Button>\n                    </Div>\n                    <Div>\n                        <Button mode=\"secondary\" size=\"l\" stretched={true} onClick={() => this.props.openModal(\"MODAL_PAGE_BOTS_LIST\")}>Открыть\n                            модальную страницу</Button>\n                    </Div>\n                    <Div>\n                        <Button mode=\"secondary\" size=\"l\" stretched={true} onClick={() => this.props.openModal(\"MODAL_PAGE_BOTS_LIST\")}>Открыть\n                            модальную страницу</Button>\n                    </Div>\n                    {withoutEpic && <Div>\n                        <Button mode=\"secondary\" size=\"l\" stretched={true} onClick={() => {\n                             fetch(`https://api.github.com/users/petrgazarov`, {\n                                method: 'get',\n                                headers: {\n                                    \"Content-type\": \"application/x-www-form-urlencoded; charset=UTF-8\"\n                                }\n                            })\n                                .then((response) => response.json())\n                                .then((response) => {\n                                   console.log(response)\n                                })\n                                .catch((error) => {\n                                    console.log(\"error - \"+error)\n                                })\n                        }}>Открыть модальное окно</Button>\n                    </Div>}\n                    {this.state.showImg && <Div className=\"div-center\">\n                        <img src=\"https://vk.com/sticker/1-12676-256\" alt=\"Стикер VK\"/>\n                    </Div>}\n                </Group>\n            </Panel>\n        );\n    }\n\n}\n\nconst mapDispatchToProps = {\n    setPage,\n    goBack,\n    openPopout,\n    closePopout,\n    openModal\n};\n\nexport default connect(null, mapDispatchToProps)(HomePanelBase);\n","import React, {PureComponent} from 'react';\n\nimport {Cell, Avatar} from \"@vkontakte/vkui\";\n\nclass GroupCell extends PureComponent {\n\n    render() {\n        const {description, photo, name} = this.props;\n\n        let desc = description.length > 0 ? description : \"Описание отсутствует\";\n\n        return (\n            <Cell\n                description={desc}\n                before={<Avatar size={40} src={photo}/>}\n            >\n                {name}\n            </Cell>\n        )\n    }\n\n}\n\nexport default GroupCell;","import React from 'react';\nimport GroupCell from '../components/GroupCell';\n\nexport const renderGroupsList = (items) => {\n    let groups = null;\n    if (items !== undefined && items !== null && items.length !== 0) {\n        groups = items.map((group) => (\n            <GroupCell\n                key={group.id}\n                description={group.description}\n                photo={group.photo_100}\n                name={group.name}/>\n        ));\n    }\n    return groups;\n};","import React from 'react';\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from \"redux\";\n\nimport {goBack, openPopout, closePopout, openModal} from \"../../store/router/actions\";\nimport * as VK from '../../services/VK';\n\nimport {renderGroupsList} from '../../services/renderers';\n\nimport {Div, List, Panel, Group, Button, PanelHeader, PanelSpinner, PanelHeaderBack, Header} from \"@vkontakte/vkui\";\n\nclass HomePanelGroups extends React.Component {\n\n    state = {\n        groups: {\n            admined: [],\n            other: [],\n        },\n        loading: true,\n        errorGetAuthToken: false\n    };\n\n    componentDidMount() {\n        if (this.props.accessToken === undefined) {\n            this.getAuthToken();\n        } else {\n            this.getGroupsList();\n        }\n    }\n\n    getAuthToken() {\n        this.props.dispatch(VK.getAuthToken(['groups']));\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (this.props !== prevProps) {\n            if (this.props.accessToken === null) {\n                this.setState({\n                    loading: false,\n                    errorGetAuthToken: true\n                });\n            } else {\n                this.setState({\n                    loading: true,\n                    errorGetAuthToken: false\n                });\n\n                this.getGroupsList();\n            }\n        }\n    }\n\n    async getGroupsList() {\n        if (localStorage.getItem('userGroupsAdmined') && localStorage.getItem('userGroupsOther')) {\n            this.setState({\n                groups: {\n                    admined: JSON.parse(localStorage.getItem('userGroupsAdmined')),\n                    other: JSON.parse(localStorage.getItem('userGroupsOther')),\n                },\n                loading: false\n            });\n\n            return;\n        }\n\n        let groups = await VK.groupsGet();\n\n        let adminedGroups = groups.items.filter(function (item) {\n            return item.is_admin === 1;\n        });\n\n        let otherGroups = groups.items.filter(function (item) {\n            return item.is_admin === 0;\n        });\n\n        localStorage.setItem('userGroupsAdmined', JSON.stringify(adminedGroups));\n        localStorage.setItem('userGroupsOther', JSON.stringify(otherGroups));\n\n        this.setState({\n            groups: {\n                admined: adminedGroups,\n                other: otherGroups\n            },\n            loading: false\n        });\n    }\n\n    render() {\n        const {id, goBack} = this.props;\n\n        let adminedGroupsList = renderGroupsList(this.state.groups.admined);\n        let otherGroupsList = renderGroupsList(this.state.groups.other);\n\n        return (\n            <Panel id={id}>\n                <PanelHeader\n                    left={<PanelHeaderBack onClick={() => goBack()}/>}\n                >\n                    Группы\n                </PanelHeader>\n                {this.state.loading && <PanelSpinner/>}\n                {!this.state.loading && this.state.errorGetAuthToken && <Group>\n                    <Div>Возникла ошибка при получении данных, возможно Вы не выдали права на список групп.</Div>\n                    <Div>\n                        <Button size=\"l\" stretched={true} onClick={() => this.getAuthToken()}>Запросить\n                            повторно</Button>\n                    </Div>\n                </Group>}\n                {!this.state.loading && !this.state.errorGetAuthToken && adminedGroupsList &&\n                <Group header={\n                    <Header mode=\"secondary\">Администрируемые</Header>\n                }>\n                    <List>\n                        {adminedGroupsList}\n                    </List>\n                </Group>}\n                {!this.state.loading && !this.state.errorGetAuthToken && otherGroupsList &&\n                <Group header={\n                    <Header mode=\"secondary\">Остальные</Header>\n                }>\n                    <List>\n                        {otherGroupsList}\n                    </List>\n                </Group>}\n            </Panel>\n        );\n    }\n\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        dispatch,\n        ...bindActionCreators({goBack, openPopout, closePopout, openModal}, dispatch)\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        accessToken: state.vkui.accessToken\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePanelGroups);\n","import React from 'react';\nimport {connect} from 'react-redux';\n\nimport {setPage} from \"../../store/router/actions\";\nimport {setActiveTab, setScrollPositionByID} from \"../../store/vk/actions\";\nimport {restoreScrollPosition} from \"../../services/_functions\";\n\nimport {\n    Div,\n    Panel,\n    Group,\n    CellButton,\n    PanelHeader,\n    FixedLayout,\n    HorizontalScroll,\n    TabsItem,\n    Tabs\n} from \"@vkontakte/vkui\";\n\nclass HomePanelProfile extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            activeTab: props.activeTab[\"EXAMPLE\"] || \"modal\"\n        };\n    }\n\n    setTab(tab) {\n        this.setState({\n            activeTab: tab\n        });\n    }\n\n    componentWillUnmount() {\n        const {setScrollPositionByID, setActiveTab} = this.props;\n\n        setActiveTab(\"EXAMPLE\", this.state.activeTab);\n        setScrollPositionByID(\"EXAMPLE_TABS_LIST\");\n    }\n\n    componentDidMount() {\n        restoreScrollPosition();\n    }\n\n    render() {\n        const {id, setPage} = this.props;\n        const boxStyle = {marginTop: 56};\n\n        return (\n            <Panel id={id}>\n                <PanelHeader noShadow={true}>Examples 2</PanelHeader>\n                <FixedLayout vertical=\"top\">\n                    <Tabs theme=\"header\" mode=\"default\">\n                        <HorizontalScroll id=\"EXAMPLE_TABS_LIST\">\n                            <TabsItem\n                                onClick={() => this.setTab('modal')}\n                                selected={this.state.activeTab === 'modal'}\n                            >\n                                Модальное окно\n                            </TabsItem>\n                            <TabsItem\n                                onClick={() => this.setTab('test')}\n                                selected={this.state.activeTab === 'test'}\n                            >\n                                Для теста\n                            </TabsItem>\n                            <TabsItem\n                                onClick={() => this.setTab('test2')}\n                                selected={this.state.activeTab === 'test2'}\n                            >\n                                Для теста 2\n                            </TabsItem>\n                            <TabsItem\n                                onClick={() => this.setTab('test3')}\n                                selected={this.state.activeTab === 'test3'}\n                            >\n                                Для теста 3\n                            </TabsItem>\n                        </HorizontalScroll>\n                    </Tabs>\n                </FixedLayout>\n                <Group style={boxStyle}>\n                    {this.state.activeTab === 'modal' && <CellButton onClick={() => setPage('modal', 'filters')}>\n                        Открыть модальное окно\n                    </CellButton>}\n\n                    {this.state.activeTab !== 'modal' && <Div>{this.state.activeTab}</Div>}\n                </Group>\n            </Panel>\n        );\n    }\n\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        activeTab: state.vkui.activeTab,\n    };\n};\n\nconst mapDispatchToProps = {\n    setPage,\n    setActiveTab,\n    setScrollPositionByID\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePanelProfile);\n","import React from 'react';\nimport {connect} from 'react-redux';\n\nimport {goBack} from '../../store/router/actions';\nimport {setFormData} from \"../../store/formData/actions\";\n\nimport {\n    Div,\n    Button,\n    Checkbox,\n    Input,\n    FormLayout,\n    FormLayoutGroup,\n    Panel,\n    Group,\n    PanelHeader,\n    PanelHeaderBack\n} from \"@vkontakte/vkui\";\n\nclass HomePanelProfile extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        let defaultInputData = {\n            workplace: '',\n            workposition: '',\n\n            checkboxPhoto: 0,\n            checkboxOnline: 0\n        };\n\n        this.state = {\n            inputData: props.inputData['example_form'] || defaultInputData\n        };\n\n        this.handleInput = (e) => {\n            let value = e.currentTarget.value;\n\n            if (e.currentTarget.type === 'checkbox') {\n                value = e.currentTarget.checked;\n            }\n\n            this.setState({\n                inputData: {\n                    ...this.state.inputData,\n                    [e.currentTarget.name]: value\n                }\n            })\n        };\n\n        this.clearForm = () => {\n            this.setState({\n                inputData: defaultInputData\n            });\n        };\n    }\n\n    componentWillUnmount() {\n        this.props.setFormData('example_form', this.state.inputData);\n    }\n\n    render() {\n        const {id, goBack} = this.props;\n\n        return (\n            <Panel id={id}>\n                <PanelHeader\n                    left={<PanelHeaderBack onClick={() => goBack()}/>}\n                >\n                    Модальное окно\n                </PanelHeader>\n                <Group>\n                    <FormLayout>\n                        <FormLayoutGroup top=\"Работа\">\n                            <Input value={this.state.inputData.workplace}\n                                   onChange={this.handleInput}\n                                   name=\"workplace\"\n                                   placeholder=\"Место работы\"\n                                   autoComplete=\"off\"/>\n                            <Input value={this.state.inputData.workposition}\n                                   onChange={this.handleInput}\n                                   name=\"workposition\"\n                                   placeholder=\"Должность\"\n                                   autoComplete=\"off\"/>\n                        </FormLayoutGroup>\n                        <FormLayoutGroup top=\"Дополнительно\">\n                            <Checkbox checked={this.state.inputData.checkboxPhoto}\n                                      onChange={this.handleInput}\n                                      name=\"checkboxPhoto\"\n                            >С фотографией</Checkbox>\n                            <Checkbox checked={this.state.inputData.checkboxOnline}\n                                      onChange={this.handleInput}\n                                      name=\"checkboxOnline\"\n                            >Сейчас на сайте</Checkbox>\n                        </FormLayoutGroup>\n                    </FormLayout>\n                    <Div className=\"buttons-group\">\n                        <Button size=\"l\" stretched={true} onClick={() => goBack()}>Сохранить</Button>\n                        <Button size=\"l\" stretched={true} onClick={this.clearForm}>Очистить</Button>\n                    </Div>\n                </Group>\n            </Panel>\n        );\n    }\n\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        inputData: state.formData.forms,\n    };\n};\n\nconst mapDispatchToProps = {\n    setFormData,\n    goBack\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePanelProfile);","import {SET_FORM_DATA} from './actionTypes';\n\nexport const setFormData = (formName, inputData) => (\n    {\n        type: SET_FORM_DATA,\n        payload: {\n            form: formName,\n            data: inputData,\n        }\n    }\n);","import React from 'react';\nimport {connect} from 'react-redux';\n\nimport {openModal} from \"../../store/router/actions\";\n\nimport {List, Cell, Avatar, ModalPage, ModalPageHeader, PanelHeaderButton, withPlatform, IOS} from \"@vkontakte/vkui\";\n\nimport Icon24Dismiss from '@vkontakte/icons/dist/24/dismiss';\nimport Icon24Cancel from '@vkontakte/icons/dist/24/cancel';\nimport Icon24Chevron from '@vkontakte/icons/dist/24/chevron';\n\nconst bots = [\n    {\n        name: 'VKS',\n        avatar: 'https://pp.userapi.com/c851520/v851520442/48ce/Sik7V4c58qw.jpg',\n        desc: 'Нет, меня не роняли в детстве'\n    },\n    {\n        name: 'Недобот',\n        avatar: 'https://pp.userapi.com/c854420/v854420431/da51/X8ohw4-4Fk4.jpg',\n        desc: 'Я ни разу не пил кокосовое молоко'\n    },\n    {\n        name: 'Realm of War',\n        avatar: 'https://sun9-72.userapi.com/c853520/v853520591/1f167d/avj_z9yFtQA.jpg?ava=1',\n        desc: 'Ненавижу спойлеры.'\n    },\n];\n\nclass HomeBotsListModal extends React.Component {\n\n    render() {\n        const {id, onClose, openModal, platform} = this.props;\n\n        return (\n            <ModalPage\n                id={id}\n                header={\n                    <ModalPageHeader\n                        left={platform !== IOS &&\n                        <PanelHeaderButton onClick={onClose}><Icon24Cancel/></PanelHeaderButton>}\n                        right={platform === IOS &&\n                        <PanelHeaderButton onClick={onClose}><Icon24Dismiss/></PanelHeaderButton>}\n                    >\n                        /appbots на минималках\n                    </ModalPageHeader>\n                }\n                onClose={onClose}\n                settlingHeight={80}\n            >\n                <List>\n                    {bots.map((bot, index) => (\n                        <Cell\n                            key={index}\n                            description={bot.desc}\n                            before={<Avatar size={40} src={bot.avatar}/>}\n                            onClick={() => openModal('MODAL_PAGE_BOT_INFO')}\n                            asideContent={<Icon24Chevron fill=\"#528bcc\"/>}\n                        >\n                            {bot.name}\n                        </Cell>\n                    ))}\n                </List>\n            </ModalPage>\n        );\n    }\n\n}\n\nconst mapDispatchToProps = {\n    openModal\n};\n\nexport default withPlatform(connect(null, mapDispatchToProps)(HomeBotsListModal));\n","import React from 'react';\nimport {connect} from 'react-redux';\n\nimport {Cell, List, Avatar, InfoRow, ModalPage, ModalPageHeader, PanelHeaderButton, withPlatform, IOS} from \"@vkontakte/vkui\";\n\nimport Icon24Dismiss from '@vkontakte/icons/dist/24/dismiss';\nimport Icon24Cancel from '@vkontakte/icons/dist/24/cancel';\n\nclass HomeBotsListModal extends React.Component {\n\n    render() {\n        const {id, onClose, platform} = this.props;\n\n        return (\n            <ModalPage\n                id={id}\n                header={\n                    <ModalPageHeader\n                        left={platform !== IOS &&\n                        <PanelHeaderButton onClick={onClose}><Icon24Cancel/></PanelHeaderButton>}\n                        right={platform === IOS &&\n                        <PanelHeaderButton onClick={onClose}><Icon24Dismiss/></PanelHeaderButton>}\n                    >\n                        Информация о боте\n                    </ModalPageHeader>\n                }\n                onClose={onClose}\n                settlingHeight={80}\n            >\n                <Cell\n                    description=\"Описание\"\n                    before={<Avatar size={40} src=\"https://vk.com/images/community_100.png?ava=1\"/>}\n                >\n                    Название\n                </Cell>\n                <List>\n                    <Cell>\n                        <InfoRow header=\"Подписчиков\">\n                            8800\n                        </InfoRow>\n                    </Cell>\n                    <Cell>\n                        <InfoRow header=\"Записей\">\n                            555\n                        </InfoRow>\n                    </Cell>\n                    <Cell>\n                        <InfoRow header=\"Рейтинг\">\n                            3535\n                        </InfoRow>\n                    </Cell>\n                </List>\n            </ModalPage>\n        );\n    }\n\n}\n\nexport default withPlatform(connect()(HomeBotsListModal));\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux'\nimport {goBack, closeModal, setStory} from \"./js/store/router/actions\";\nimport {getActivePanel} from \"./js/services/_functions\";\nimport * as VK from './js/services/VK';\n\nimport {Epic, View, Root, Tabbar, ModalRoot, TabbarItem, ConfigProvider} from \"@vkontakte/vkui\";\n\nimport Icon28Newsfeed from '@vkontakte/icons/dist/28/newsfeed';\nimport Icon28More from '@vkontakte/icons/dist/28/more';\n\nimport HomePanelBase from './js/panels/home/base';\nimport HomePanelGroups from './js/panels/home/groups';\n\nimport MorePanelBase from './js/panels/more/base';\nimport MorePanelExample from './js/panels/more/example';\n\nimport HomeBotsListModal from './js/components/modals/HomeBotsListModal';\nimport HomeBotInfoModal from './js/components/modals/HomeBotInfoModal';\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.lastAndroidBackAction = 0;\n    }\n\n    componentDidMount() {\n        const {goBack, dispatch} = this.props;\n\n        dispatch(VK.initApp());\n\n        window.onpopstate = () => {\n            let timeNow = +new Date();\n\n            if (timeNow - this.lastAndroidBackAction > 500) {\n                this.lastAndroidBackAction = timeNow;\n\n                goBack();\n            } else {\n                window.history.pushState(null, null);\n            }\n        };\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        const {activeView, activeStory, activePanel, scrollPosition} = this.props;\n\n        if (\n            prevProps.activeView !== activeView ||\n            prevProps.activePanel !== activePanel ||\n            prevProps.activeStory !== activeStory\n        ) {\n            let pageScrollPosition = scrollPosition[activeStory + \"_\" + activeView + \"_\" + activePanel] || 0;\n\n            window.scroll(0, pageScrollPosition);\n        }\n    }\n\n    render() {\n        const {goBack, setStory, closeModal, popouts, activeView, activeStory, activeModals, panelsHistory, colorScheme} = this.props;\n\n        let history = (panelsHistory[activeView] === undefined) ? [activeView] : panelsHistory[activeView];\n        let popout = (popouts[activeView] === undefined) ? null : popouts[activeView];\n        let activeModal = (activeModals[activeView] === undefined) ? null : activeModals[activeView];\n\n        const homeModals = (\n            <ModalRoot activeModal={activeModal}>\n                <HomeBotsListModal\n                    id=\"MODAL_PAGE_BOTS_LIST\"\n                    onClose={() => closeModal()}\n                />\n                <HomeBotInfoModal\n                    id=\"MODAL_PAGE_BOT_INFO\"\n                    onClose={() => closeModal()}\n                />\n            </ModalRoot>\n        );\n\n        return (\n            <ConfigProvider isWebView={true} scheme={colorScheme}>\n                <Epic activeStory={activeStory} tabbar={\n                    <Tabbar>\n                        <TabbarItem\n                            onClick={() => setStory('home', 'base')}\n                            selected={activeStory === 'home'}\n                        ><Icon28Newsfeed/></TabbarItem>\n                        <TabbarItem\n                            onClick={() => setStory('more', 'callmodal')}\n                            selected={activeStory === 'more'}\n                        ><Icon28More/></TabbarItem>\n                    </Tabbar>\n                }>\n                    <Root id=\"home\" activeView={activeView} popout={popout}>\n                        <View\n                            id=\"home\"\n                            modal={homeModals}\n                            activePanel={getActivePanel(\"home\")}\n                            history={history}\n                            onSwipeBack={() => goBack()}\n                        >\n                            <HomePanelBase id=\"base\" withoutEpic={false}/>\n                            <HomePanelGroups id=\"groups\"/>\n                        </View>\n                    </Root>\n                    <Root id=\"more\" activeView={activeView} popout={popout}>\n                        <View\n                            id=\"more\"\n                            modal={homeModals}\n                            activePanel={getActivePanel(\"more\")}\n                            history={history}\n                            onSwipeBack={() => goBack()}\n                        >\n                            <MorePanelBase id=\"callmodal\"/>\n                        </View>\n                        <View\n                            id=\"modal\"\n                            modal={homeModals}\n                            activePanel={getActivePanel(\"modal\")}\n                            history={history}\n                            onSwipeBack={() => goBack()}\n                        >\n                            <MorePanelExample id=\"filters\"/>\n                        </View>\n                    </Root>\n                </Epic>\n            </ConfigProvider>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        activeView: state.router.activeView,\n        activeStory: state.router.activeStory,\n        panelsHistory: state.router.panelsHistory,\n        activeModals: state.router.activeModals,\n        popouts: state.router.popouts,\n        scrollPosition: state.router.scrollPosition,\n\n        colorScheme: state.vkui.colorScheme\n    };\n};\n\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        dispatch,\n        ...bindActionCreators({setStory, goBack, closeModal}, dispatch)\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import 'core-js/es6/map';\nimport 'core-js/es6/set';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport {applyMiddleware, createStore} from \"redux\";\nimport thunk from 'redux-thunk';\nimport {Provider} from 'react-redux';\nimport rootReducer from './js/store/reducers';\nimport {composeWithDevTools} from 'redux-devtools-extension';\n\nimport {setStory} from \"./js/store/router/actions\";\n\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './css/main.css';\n\nimport App from './App';\n\nexport const store = createStore(rootReducer, composeWithDevTools(\n    applyMiddleware(thunk),\n));\n\nstore.dispatch(setStory('home', 'base'));\n\nReactDOM.render(\n    <Provider store={store}>\n        <App/>\n    </Provider>,\n    document.getElementById('root')\n);"],"sourceRoot":""}